{"version":3,"sources":["style.tsx","components/Header/index.tsx","components/Nav/index.tsx","components/AppContainer/index.tsx","components/Button/index.tsx","pages/HomePage/index.tsx","db.ts","util.ts","lib/common.ts","lib/verticalLine1.ts","lib/verticalLine2.ts","lib/horizontalLine1.ts","lib/horizontalLine2.ts","lib/square.ts","lib/squareVerticalLine.ts","lib/squareHorizontalLine.ts","lib/squareSkewedLine.ts","lib/squarePoint.ts","lib/squareDogleggedLine.ts","lib/index.ts","components/TrainingMenu/index.tsx","pages/TrainingMenuPage/index.tsx","components/TrainingLevelMenu/index.tsx","pages/TrainingLevelMenuPage/index.tsx","components/Training/RatioBar/LineWithWhisker.tsx","components/Training/common.ts","components/Training/RatioBar/constants.ts","components/Training/RatioBar/LineLayer.tsx","components/Training/RatioBar/index.tsx","components/Training/SquareSimpleLine/index.tsx","components/Training/Square/constants.ts","components/Training/Square/index.tsx","components/Timer/index.tsx","components/Training/SquareSimpleLine/constants.ts","components/Training/SquareSkewedLine/index.tsx","components/Training/SquareSkewedLine/constants.ts","components/Training/SquarePoint/index.tsx","components/Training/SquarePoint/constants.ts","components/Training/SquareDogleggedLine/index.tsx","components/Training/SquareDogleggedLine/constants.ts","components/Training/index.tsx","components/TrainingStart/index.tsx","components/Rating/index.tsx","components/TrainingResult/index.tsx","pages/TrainingPage/index.tsx","components/Calendar/index.tsx","components/History/index.tsx","components/Chart/index.tsx","components/WeakPoint/index.tsx","pages/ReportPage/index.tsx","components/Menu/index.tsx","pages/SettingPage/index.tsx","components/ScaleCorrector/index.tsx","pages/ScaleCorrectionPage/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["library","add","faShapes","faChartLine","faSlidersH","theme","accent","inactive","globalCSS","css","styled","emotionStyled","useTheme","useContext","ThemeContext","ThemeProvider","children","GlobalStyle","styles","Mode","Header","className","hidden","closable","onClose","backButtonVisible","onBackButtonClick","onClick","Wrapper","div","MenuItem","active","Icon","FontAwesomeIcon","Nav","selected","onSelect","Training","icon","Report","Setting","AppContainer","currentMode","navHidden","onModeChange","headerClosable","onHeaderClose","headerBackButtonVisible","onHeaderBackButtonClick","role","StyledButton","button","Button","toUpperCase","AuthState","HomePage","onSignIn","clamp","v","min","max","numberArrayEqual","a","b","length","every","c","i","updateArray","val","slice","concat","Array","fill","undefined","app","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","provider","TwitterAuthProvider","auth","db","Rating","Level","TrainingType","verticalLine1","title","paramsSize","stateSize","duration","Easy","Infinity","Normal","Hard","Ultimate","validateParams","barLength","bar2Length","ratio","Math","abs","judgeScore","params","state","range","verticalLine2","ratio2","sort","map","s","reduce","square","w","h","squareVerticalLine","r","squareHorizontalLine","squareSkewedLine","r2","squarePoint","x","y","squareDogleggedLine","top","bottom","trainings","VerticalLine1","VerticalLine2","HorizontalLine1","horizontalLine1","HorizontalLine2","horizontalLine2","Square","SquareVerticalLine","SquareHorizontalLine","SquareSkewedLine","SquarePoint","SquareDogleggedLine","humanReadableScore","score","round","initTraining","type","trainingMenu","random","validated","isArray","getTitle","bgcolor","TrainingMenu","handleTypeClick","useCallback","Object","keys","key","TrainingMenuPage","levels","TrainingLevelMenu","handleLevelClick","level","label","Direction","TrainingLevelMenuPage","getPos","e","TouchEvent","targetTouches","pageX","pageY","useDrag","opts","inputs","onUpdate","disableOperation","calcStateFromPos","wrapperRef","useRef","useEventCallback","event$","inputs$","state$","merge","pipe","distinctUntilChanged","mapTo","withLatestFrom","filter","st","evt","current","getBoundingClientRect","left","mergeMap","first","offset","isFirstTime","lastState","fromEvent","document","takeUntil","tap","skip","d","startWith","index","dx","dy","firstX","firstY","firstState","calcLength","scaleCorrection","LineWithWhisker","direction","stroke","strokeWidth","whiskerSize","points","Horizontal","VerticalLineLayer","longerLength","lineLength","answerRatio","onMouseDown","onTouchStart","pointCount","handleMouseDown","handleTouchStart","nextPoint","y2","y3","rotation","whiskerLength","clickablePaddingW","RatioBar","isAnswerShown","screenSize","line2Length","answer","dragStartCallback","mainBarX","secondBarX","barY","ref","width","height","calcRectY","rectW","rectH","rectX","calcRectX","rectY","answerY","calcAnswer","DisplayStyle","SquareSimpleLine","Vertical","rectSize","mainRectX","mainRectY","radius","cancelBubble","props","BarWrapper","Bar","TextWrapper","Timer","onTimeUp","id","enabled","displayStyle","useState","setRatio","seconds","setSeconds","onTimeUpRef","useEffect","start","Date","now","time","setInterval","ceil","clearInterval","TrainingStart","onStart","buttonPushed","setButtonPushed","handleClick","Text","RatingEnum","Legend","color","Excellent","Good","Bad","StyledSvg","svg","small","rating","getRating","version","viewBox","xmlns","xmlnsXlink","stdDeviation","result","operator","in","in2","flood-color","flood-opacity","text-anchor","dominant-baseline","fontSize","fontWeight","TrainingResult","scores","totalScore","TrainingPage","onResult","onFinish","finishedAt","status","useMemo","count","p","initTrainings","started","setStarted","currentTraining","changeTraining","currentState","setCurrentState","setAnswerShown","useResizeObserver","resizeRef","nextButtonVisible","setNextButtonVisible","timeout","setTimeout","clearTimeout","handleAnswer","handleNext","datetime","isAnswerable","validateState","handleTimeUp","handleStart","trainingSize","getDuration","Calendar","History","histories","toISOString","toLocaleString","Chart","WeakPoint","ReportPage","Item","Menu","items","iconShown","some","item","iconColor","ScaleCorrection","SignOut","SettingPage","ScaleCorrector","onEnter","value","setValue","sc","onChange","parseFloat","currentTarget","Route","ScaleCorrectionPage","onScaleCorrectionEnter","hot","initialScaleCorrection","scstr","localStorage","getItem","setScaleCorrection","training","setTraining","setItem","toString","removeItem","useObservable","authState","user","uid","SignedOut","Loading","signInWithRedirect","signOut","signIn","replace","input$","list","changes","snapshot","of","push","getTime","then","Promise","reject","useHistories","addHistory","Home","currentRoute","jumpTo","ScaleCorrectionFirst","TrainingLevel","mode","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f9326943.chunk.js","sourcesContent":["import React, { FC, useContext } from \"react\";\nimport { Global, css, ThemeContext } from \"@emotion/core\";\nimport emotionStyled, { CreateStyled } from \"@emotion/styled\";\nimport { ThemeProvider as EmotionThemeProvider } from \"emotion-theming\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faShapes,\n  faChartLine,\n  faSlidersH\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faShapes, faChartLine, faSlidersH);\n\nexport const theme = {\n  accent: \"tomato\",\n  inactive: \"#aaa\"\n};\n\nconst globalCSS = css`\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\n      \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\n      \"Helvetica Neue\", sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  html,\n  body,\n  #root {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  html {\n    position: fixed;\n  }\n`;\n\nexport const styled = emotionStyled as CreateStyled<typeof theme>;\nexport const useTheme = () => useContext<typeof theme>(ThemeContext as any);\nexport const ThemeProvider: FC = ({ children }) => (\n  <EmotionThemeProvider theme={theme}>{children}</EmotionThemeProvider>\n);\nexport const GlobalStyle: FC = () => <Global styles={globalCSS} />;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\nimport { useTheme } from \"@katachi/style\";\n\nexport interface Props {\n  className?: string;\n  hidden?: boolean;\n  closable?: boolean;\n  backButtonVisible?: boolean;\n  onClose?: () => void;\n  onBackButtonClick?: () => void;\n}\n\nconst Header: React.FC<Props> = ({\n  className,\n  hidden,\n  closable,\n  onClose,\n  backButtonVisible,\n  onBackButtonClick\n}) => {\n  const theme = useTheme();\n\n  return hidden ? null : (\n    <div\n      css={css`\n        font-size: 1.2rem;\n        height: 2.5em;\n        line-height: 2.5em;\n        padding: 0 1em;\n        color: ${theme.accent};\n        font-weight: bold;\n        text-align: center;\n      `}\n      className={className}\n    >\n      {backButtonVisible && (\n        <div\n          css={css`\n            width: 2.5em;\n            height: 2.5em;\n            line-height: 2.5em;\n            position: absolute;\n            top: 0;\n            left: 0;\n            cursor: pointer;\n            user-select: none;\n            text-align: center;\n            color: #888;\n            font-size: 20px;\n          `}\n          onClick={onBackButtonClick}\n        >\n          &lt;\n        </div>\n      )}\n      katachi\n      {closable && (\n        <div\n          css={css`\n            width: 2.5em;\n            height: 2.5em;\n            line-height: 2.5em;\n            position: absolute;\n            top: 0;\n            right: 0;\n            cursor: pointer;\n            user-select: none;\n            text-align: center;\n            color: #888;\n            font-size: 20px;\n          `}\n          onClick={onClose}\n        >\n          &times;\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { styled } from \"@katachi/style\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport enum Mode {\n  Training,\n  Report,\n  Setting\n}\n\nexport interface Props {\n  className?: string;\n  selected?: Mode;\n  onSelect?: (mode: Mode) => void;\n}\n\nconst Nav: React.FC<Props> = ({ className, selected, onSelect }) => {\n  return (\n    <Wrapper className={className}>\n      <MenuItem\n        active={selected === Mode.Training}\n        onClick={() => onSelect && onSelect(Mode.Training)}\n      >\n        <div>\n          <Icon icon=\"shapes\" />\n          トレーニング\n        </div>\n      </MenuItem>\n      <MenuItem\n        active={selected === Mode.Report}\n        onClick={() => onSelect && onSelect(Mode.Report)}\n      >\n        <div>\n          <Icon icon=\"chart-line\" />\n          レポート\n        </div>\n      </MenuItem>\n      <MenuItem\n        active={selected === Mode.Setting}\n        onClick={() => onSelect && onSelect(Mode.Setting)}\n      >\n        <div>\n          <Icon icon=\"sliders-h\" />\n          設定\n        </div>\n      </MenuItem>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: stretch;\n  height: 4em;\n`;\n\nconst MenuItem = styled.div<{ active?: boolean }>`\n  flex: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  text-align: center;\n  font-size: 0.8rem;\n  font-weight: bold;\n  color: ${({ active, theme }) => (active ? theme.accent : theme.inactive)};\n  flex: 1 1 0;\n  user-select: none;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  display: block;\n  margin: 0 auto 0.2em;\n  font-size: 1.5rem;\n`;\n\nexport default Nav;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport Header from \"../Header\";\nimport Nav, { Mode } from \"../Nav\";\n\nexport { Mode };\n\nexport interface Props {\n  className?: string;\n  navHidden?: boolean;\n  currentMode?: Mode;\n  onModeChange?: (mode: Mode) => void;\n  headerClosable?: boolean;\n  onHeaderClose?: () => void;\n  headerBackButtonVisible?: boolean;\n  onHeaderBackButtonClick?: () => void;\n}\n\nconst AppContainer: React.FC<Props> = ({\n  className,\n  children,\n  currentMode,\n  navHidden,\n  onModeChange,\n  headerClosable,\n  onHeaderClose,\n  headerBackButtonVisible,\n  onHeaderBackButtonClick\n}) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        position: relative;\n        display: flex;\n        flex-direction: column;\n      `}\n    >\n      <header>\n        <Header\n          closable={headerClosable}\n          onClose={onHeaderClose}\n          backButtonVisible={headerBackButtonVisible}\n          onBackButtonClick={onHeaderBackButtonClick}\n        />\n      </header>\n      <main\n        role=\"main\"\n        css={css`\n          position: relative;\n          flex: auto;\n          overflow: hidden;\n        `}\n      >\n        {children}\n      </main>\n      <nav\n        css={css`\n          display: ${navHidden ? \"none\" : \"block\"};\n        `}\n      >\n        <Nav selected={currentMode} onSelect={onModeChange} />\n      </nav>\n    </div>\n  );\n};\n\nexport default AppContainer;\n","import React from \"react\";\nimport { styled } from \"@katachi/style\";\n\nexport interface Props {\n  className?: string;\n  children?: string;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n}\n\nconst Button: React.FC<Props> = ({ className, children, onClick }) => {\n  return (\n    <StyledButton className={className} onClick={onClick}>\n      {children ? children.toUpperCase() : \"\"}\n    </StyledButton>\n  );\n};\n\nconst StyledButton = styled.button`\n  display: inline-block;\n  width: 100%;\n  font-size: 14px;\n  border-radius: 0.5em;\n  border: none;\n  outline: none;\n  background-color: ${({ theme }) => theme.accent};\n  color: #fff;\n  padding: 1em 3em;\n  box-shadow: 0 0.1em 0.5em #00000030;\n  cursor: pointer;\n  user-select: none;\n  transition: all ease 0.1s;\n\n  &:hover {\n    filter: brightness(120%);\n  }\n\n  &:active {\n    filter: brightness(100%);\n    transform: translateY(1px);\n  }\n`;\n\nexport default Button;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport Button from \"@katachi/components/Button\";\n\nexport interface Props {\n  className?: string;\n  onSignIn?: () => void;\n}\n\nconst HomePage: React.FC<Props> = ({ className, onSignIn }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        padding: 1em;\n      `}\n    >\n      <h1>形を正確に観る \"眼\" を養うトレーニング</h1>\n      <Button onClick={onSignIn}>Twitterでログイン</Button>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import { useCallback, useMemo } from \"react\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport { authState } from \"rxfire/auth\";\nimport { list } from \"rxfire/database\";\nimport { of } from \"rxjs\";\nimport { map, mergeMap } from \"rxjs/operators\";\nimport { useObservable } from \"rxjs-hooks\";\n\nimport { TrainingHistory } from \"./lib\";\n\nconst app = firebase.initializeApp({\n  apiKey: \"AIzaSyBkXkX7PIAhCXvnTau7lzrb1AOWbJXoa8I\",\n  authDomain: \"katachi-25f71.firebaseapp.com\",\n  databaseURL: \"https://katachi-25f71.firebaseio.com\",\n  projectId: \"katachi-25f71\",\n  storageBucket: \"katachi-25f71.appspot.com\",\n  messagingSenderId: \"1057352886357\",\n  appId: \"1:1057352886357:web:5e0e73ee245b501c\"\n});\nconst provider = new firebase.auth.TwitterAuthProvider();\nconst auth = firebase.auth(app);\nconst db = firebase.database(app);\n\nexport enum AuthState {\n  Loading,\n  SignedOut\n}\n\nexport const useAuth = () => {\n  const user = useObservable<string | AuthState>(\n    () =>\n      authState(auth).pipe(\n        map(user => (user ? user.uid : AuthState.SignedOut))\n      ),\n    AuthState.Loading\n  );\n  const signIn = useCallback(() => auth.signInWithRedirect(provider), []);\n  const signOut = useCallback(() => auth.signOut(), []);\n  return [user, signIn, signOut] as const;\n};\n\nexport const useHistories = (user?: string) => {\n  const ref = useMemo(\n    () =>\n      user ? db.ref(`users/${user.replace(\"/\", \"\")}/histories`) : undefined,\n    [user]\n  );\n\n  const histories = useObservable<\n    TrainingHistory[],\n    [firebase.database.Reference | undefined]\n  >(\n    input$ =>\n      input$.pipe(\n        mergeMap(([ref]) =>\n          ref\n            ? list(ref).pipe(\n                map(changes => [\n                  ...changes\n                    .map(c => [c.snapshot.key, c.snapshot.val()] as const)\n                    .map<TrainingHistory>(([, h]) => ({\n                      datetime: new Date(h.datetime),\n                      level: h.level,\n                      type: h.type,\n                      params: h.params,\n                      scores: h.scores,\n                      state: h.state\n                    }))\n                ])\n              )\n            : of([])\n        )\n      ),\n    [],\n    [ref]\n  );\n\n  const addHistory = useCallback(\n    (h: TrainingHistory) =>\n      ref\n        ? ref\n            .push({\n              datetime: h.datetime.getTime(),\n              level: h.level,\n              type: h.type,\n              params: h.params,\n              scores: h.scores,\n              state: h.state\n            })\n            .then(() => {})\n        : Promise.reject(),\n    [ref]\n  );\n\n  return [histories, addHistory] as const;\n};\n","export const clamp = (v: number, min: number, max: number) =>\n  v > max ? max : v < min ? min : v;\n\nexport const numberArrayEqual = (a: number[], b: number[]) =>\n  a.length === b.length && a.every((c, i) => c === b[i]);\n\nexport const updateArray = <T>(a: T[], i: number, val: T) => [\n  ...(a.length >= i\n    ? a.slice(0, i)\n    : a.concat(new Array(i - a.length).fill(undefined))),\n  val,\n  ...a.slice(i + 1)\n];\n","export interface TrainingMenu {\n  title: string;\n  paramsSize: number;\n  stateSize: number;\n  duration: { [key in Level]: number };\n  validateParams: (params: number[]) => number[] | boolean;\n  judgeScore: (params: number[], state?: (number | undefined)[]) => number;\n}\n\nexport enum Rating {\n  Legend = \"legend\",\n  Excellent = \"excellent\",\n  Good = \"good\",\n  Bad = \"bad\"\n}\n\nexport enum Level {\n  Easy = \"easy\",\n  Normal = \"normal\",\n  Hard = \"hard\",\n  Ultimate = \"ultimate\"\n}\n\nexport enum TrainingType {\n  VerticalLine1 = \"verticalLine1\",\n  VerticalLine2 = \"verticalLine2\",\n  HorizontalLine1 = \"horizontailLine1\",\n  HorizontalLine2 = \"horizontalLine2\",\n  Square = \"square\",\n  SquareVerticalLine = \"squareVerticalLine\",\n  SquareHorizontalLine = \"squareHorizontalLine\",\n  SquareSkewedLine = \"squareSkewedLine\",\n  SquarePoint = \"squarePoint\",\n  SquareDogleggedLine = \"squareDogleggedLine\"\n  // SquareTriangle = \"squareTriangle\",\n  // Ellipse = \"ellipse\",\n  // EllipseMultiple = \"ellipseMultiple\"\n}\n\nexport interface TrainingHistory {\n  datetime: Date;\n  level: Level;\n  type: TrainingType;\n  params: number[][];\n  state: number[][];\n  scores: number[];\n}\n","import { TrainingMenu, Level } from \"./common\";\n\nconst verticalLine1: TrainingMenu = {\n  title: \"垂直な棒の比率 1点\",\n  paramsSize: 3,\n  stateSize: 1,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 15000,\n    [Level.Hard]: 4000,\n    [Level.Ultimate]: 1000\n  },\n  validateParams: ([barLength, bar2Length, ratio]) =>\n    barLength > 0.3 &&\n    bar2Length > 0.3 &&\n    Math.abs(barLength - bar2Length) >= 0.2 &&\n    ratio > 0.1 &&\n    ratio < 0.9,\n  judgeScore: (params, state) => {\n    if (params[0] === 0 || !state || typeof state[0] !== \"number\") return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      1 - Math.min(range, Math.abs(params[2] - (state[0] as number))) / range\n    );\n  }\n};\n\nexport default verticalLine1;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst verticalLine2: TrainingMenu = {\n  title: \"垂直な棒の比率 2点\",\n  paramsSize: 4,\n  stateSize: 2,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 30000,\n    [Level.Hard]: 10000,\n    [Level.Ultimate]: 3000\n  },\n  validateParams: ([barLength, bar2Length, ratio, ratio2]) =>\n    barLength > 0.3 &&\n    bar2Length > 0.3 &&\n    Math.abs(barLength - bar2Length) >= 0.2 &&\n    ratio > 0.1 &&\n    ratio < 0.9 &&\n    ratio2 > 0.1 &&\n    ratio2 < 0.9 &&\n    ratio2 - ratio > 0.3,\n  judgeScore: (params, state) => {\n    if (params[0] === 0 || !state) return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      state\n        .slice(0, 2)\n        .sort()\n        .map((s, i) =>\n          typeof s === \"number\"\n            ? 1 - Math.min(range, Math.abs(params[2 + i] - s)) / range\n            : 0\n        )\n        .reduce((a, b) => a + b, 0) / state.length\n    );\n  }\n};\n\nexport default verticalLine2;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst verticalLine1: TrainingMenu = {\n  title: \"水平な棒の比率 1点\",\n  paramsSize: 3,\n  stateSize: 1,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 15000,\n    [Level.Hard]: 4000,\n    [Level.Ultimate]: 1000\n  },\n  validateParams: ([barLength, bar2Length, ratio]) =>\n    barLength > 0.3 &&\n    bar2Length > 0.3 &&\n    Math.abs(barLength - bar2Length) >= 0.2 &&\n    ratio > 0.1 &&\n    ratio < 0.9,\n  judgeScore: (params, state) => {\n    if (params[0] === 0 || !state || typeof state[0] !== \"number\") return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      1 - Math.min(range, Math.abs(params[2] - (state[0] as number))) / range\n    );\n  }\n};\n\nexport default verticalLine1;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst verticalLine2: TrainingMenu = {\n  title: \"水平な棒の比率 2点\",\n  paramsSize: 4,\n  stateSize: 2,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 30000,\n    [Level.Hard]: 10000,\n    [Level.Ultimate]: 3000\n  },\n  validateParams: ([barLength, bar2Length, ratio, ratio2]) =>\n    barLength > 0.3 &&\n    bar2Length > 0.3 &&\n    Math.abs(barLength - bar2Length) >= 0.2 &&\n    ratio > 0.1 &&\n    ratio < 0.9 &&\n    ratio2 > 0.1 &&\n    ratio2 < 0.9 &&\n    ratio2 - ratio > 0.3,\n  judgeScore: (params, state) => {\n    if (params[0] === 0 || !state) return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      state\n        .slice(0, 2)\n        .sort()\n        .map((s, i) =>\n          typeof s === \"number\"\n            ? 1 - Math.min(range, Math.abs(params[2 + i] - s)) / range\n            : 0\n        )\n        .reduce((a, b) => a + b, 0) / state.length\n    );\n  }\n};\n\nexport default verticalLine2;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst square: TrainingMenu = {\n  title: \"長方形を正方形に\",\n  paramsSize: 2,\n  stateSize: 1,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 15000,\n    [Level.Hard]: 4000,\n    [Level.Ultimate]: 1000\n  },\n  validateParams: ([w, h]) => w > 0.2 && h > 0.2 && h - w > 0.3,\n  judgeScore: (params, state) => {\n    if (params[1] === 0 || !state || typeof state[0] !== \"number\") return 0;\n    const range = 0.2 - 0.1 * params[1];\n    return (\n      1 -\n      Math.min(\n        range,\n        Math.abs(1 - params[0] / params[1] - (state[0] as number))\n      ) /\n        range\n    );\n  }\n};\n\nexport default square;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst squareVerticalLine: TrainingMenu = {\n  title: \"正方形と垂直線\",\n  paramsSize: 2,\n  stateSize: 1,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 10000,\n    [Level.Hard]: 3000,\n    [Level.Ultimate]: 1000\n  },\n  validateParams: ([s, r]) => s > 0.2 && r > 0.1 && r < 0.9,\n  judgeScore: (params, state) => {\n    if (params[1] === 0 || !state || typeof state[0] !== \"number\") return 0;\n    const range = 0.25 - 0.1 * params[0];\n    return state\n      ? 1 - Math.min(range, Math.abs(params[1] - (state[0] as number))) / range\n      : 0;\n  }\n};\n\nexport default squareVerticalLine;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst squareHorizontalLine: TrainingMenu = {\n  title: \"正方形と水平線\",\n  paramsSize: 2,\n  stateSize: 1,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 10000,\n    [Level.Hard]: 3000,\n    [Level.Ultimate]: 1000\n  },\n  validateParams: ([s, r]) => s > 0.2 && r > 0.1 && r < 0.9,\n  judgeScore: (params, state) => {\n    if (params[1] === 0 || !state || typeof state[0] !== \"number\") return 0;\n    const range = 0.25 - 0.1 * params[0];\n    return state\n      ? 1 - Math.min(range, Math.abs(params[1] - (state[0] as number))) / range\n      : 0;\n  }\n};\n\nexport default squareHorizontalLine;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst squareSkewedLine: TrainingMenu = {\n  title: \"正方形と斜めの線\",\n  paramsSize: 3,\n  stateSize: 2,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 30000,\n    [Level.Hard]: 10000,\n    [Level.Ultimate]: 3000\n  },\n  validateParams: ([s, r, r2]) =>\n    s > 0.3 &&\n    r > 0.1 &&\n    r < 0.9 &&\n    r2 > 0.1 &&\n    r2 < 0.9 &&\n    Math.abs(r - r2) > 0.3,\n  judgeScore: (params, state) => {\n    if (params[1] === 0 || !state) return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      state\n        .map((s, i) =>\n          typeof s === \"number\"\n            ? 1 - Math.min(range, Math.abs(params[i + 1] - s)) / range\n            : 0\n        )\n        .reduce((a, b) => a + b, 0) / 2\n    );\n  }\n};\n\nexport default squareSkewedLine;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst squarePoint: TrainingMenu = {\n  title: \"正方形の中の点\",\n  paramsSize: 3,\n  stateSize: 2,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 30000,\n    [Level.Hard]: 10000,\n    [Level.Ultimate]: 3000\n  },\n  validateParams: ([s, x, y]) =>\n    s > 0.3 && x > 0.1 && x < 0.9 && y > 0.1 && y < 0.9,\n  judgeScore: (params, state) => {\n    if (params[1] === 0 || !state) return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      state\n        .map((s, i) =>\n          typeof s === \"number\"\n            ? 1 - Math.min(range, Math.abs(params[i + 1] - s)) / range\n            : 0\n        )\n        .reduce((a, b) => a + b, 0) / 2\n    );\n  }\n};\n\nexport default squarePoint;\n","import { TrainingMenu, Level } from \"./common\";\n\nconst squareDogleggedLine: TrainingMenu = {\n  title: \"正方形とくの字\",\n  paramsSize: 5,\n  stateSize: 4,\n  duration: {\n    [Level.Easy]: Infinity,\n    [Level.Normal]: 40000,\n    [Level.Hard]: 15000,\n    [Level.Ultimate]: 5000\n  },\n  validateParams: ([, top, bottom, x, y]) =>\n    top > 0.1 &&\n    top < 0.9 &&\n    bottom > 0.1 &&\n    bottom < 0.9 &&\n    x > 0.1 &&\n    x < 0.9 &&\n    y > 0.3 &&\n    y < 0.7 &&\n    (Math.max(top, bottom) < x || Math.min(top, bottom) > x) &&\n    Math.abs(top - bottom) > 0.3 &&\n    Math.abs(top - x) > 0.1 &&\n    Math.abs(bottom - x) > 0.1,\n  judgeScore: (params, state) => {\n    if (params[0] === 0 || !state) return 0;\n    const range = 0.3 - 0.1 * params[0];\n    return (\n      state\n        .map((s, i) =>\n          typeof s === \"number\"\n            ? 1 - Math.min(range, Math.abs(params[i + 1] - s)) / range\n            : 0\n        )\n        .reduce((a, b) => a + b, 0) / 4\n    );\n  }\n};\n\nexport default squareDogleggedLine;\n","import { TrainingType, TrainingMenu, Rating, Level } from \"./common\";\nimport verticalLine1 from \"./verticalLine1\";\nimport verticalLine2 from \"./verticalLine2\";\nimport horizontalLine1 from \"./horizontalLine1\";\nimport horizontalLine2 from \"./horizontalLine2\";\nimport square from \"./square\";\nimport squareVerticalLine from \"./squareVerticalLine\";\nimport squareHorizontalLine from \"./squareHorizontalLine\";\nimport squareSkewedLine from \"./squareSkewedLine\";\nimport squarePoint from \"./squarePoint\";\nimport squareDogleggedLine from \"./squareDogleggedLine\";\n\nexport * from \"./common\";\nexport { TrainingType, Rating, Level };\n\nconst trainings: { [key in TrainingType]: TrainingMenu } = {\n  [TrainingType.VerticalLine1]: verticalLine1,\n  [TrainingType.VerticalLine2]: verticalLine2,\n  [TrainingType.HorizontalLine1]: horizontalLine1,\n  [TrainingType.HorizontalLine2]: horizontalLine2,\n  [TrainingType.Square]: square,\n  [TrainingType.SquareVerticalLine]: squareVerticalLine,\n  [TrainingType.SquareHorizontalLine]: squareHorizontalLine,\n  [TrainingType.SquareSkewedLine]: squareSkewedLine,\n  [TrainingType.SquarePoint]: squarePoint,\n  [TrainingType.SquareDogleggedLine]: squareDogleggedLine\n};\n\nexport const allTrainingTypes = (): TrainingType[] =>\n  Object.keys(trainings) as any;\n\nexport const humanReadableScore = (score: number) => Math.round(score * 100);\n\nexport const initTrainings = (\n  type: TrainingType,\n  count: number\n): number[][] | undefined => {\n  const params = new Array(count).fill(0).map(() => initTraining(type));\n  return params.every((p): p is number[] => typeof p !== \"undefined\")\n    ? (params as number[][])\n    : undefined;\n};\n\nexport const initTraining = (type: TrainingType): number[] | undefined => {\n  const trainingMenu = trainings[type];\n  for (let i = 0; i < 1000; i++) {\n    const params = new Array(trainingMenu.paramsSize)\n      .fill(0)\n      .map(() => Math.random());\n    const validated = trainingMenu.validateParams(params);\n    if (Array.isArray(validated)) {\n      return validated;\n    }\n    if (validated) {\n      return params;\n    }\n  }\n};\n\nexport const validateState = (\n  type: TrainingType,\n  state: (number | undefined)[]\n): state is number[] =>\n  state.length === trainings[type].stateSize &&\n  state.every(s => typeof s === \"number\");\n\nexport const judgeScore = (\n  type: TrainingType,\n  params: number[],\n  state?: (number | undefined)[]\n) => trainings[type].judgeScore(params, state);\n\nexport const getRating = (score: number) => {\n  if (score >= 0.98) {\n    return Rating.Legend;\n  }\n  if (score >= 0.9) {\n    return Rating.Excellent;\n  }\n  if (score >= 0.7) {\n    return Rating.Good;\n  }\n  return Rating.Bad;\n};\n\nexport const getDuration = (type: TrainingType, level: Level) => {\n  return trainings[type].duration[level];\n};\n\nexport const getTitle = (type: TrainingType) => {\n  return trainings[type].title;\n};\n","/** @jsx jsx */\nimport React, { useCallback } from \"react\";\nimport { jsx } from \"@emotion/core\";\n\nimport { styled } from \"@katachi/style\";\nimport { TrainingType, allTrainingTypes, getTitle } from \"@katachi/lib\";\n\nexport { TrainingType };\n\nexport interface Props {\n  className?: string;\n  onSelect?: (type: TrainingType) => void;\n}\n\nconst TrainingMenu: React.FC<Props> = ({ className, onSelect }) => {\n  const handleTypeClick = useCallback(\n    (type: TrainingType) => (onSelect ? () => onSelect(type) : undefined),\n    [onSelect]\n  );\n\n  return (\n    <div className={className}>\n      {allTrainingTypes().map(type => (\n        <MenuItem key={type} onClick={handleTypeClick(type)}>\n          {getTitle(type)}\n        </MenuItem>\n      ))}\n    </div>\n  );\n};\n\nconst MenuItem = styled.div<{ bgcolor?: string }>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  max-width: 200px;\n  max-height: 200px;\n  width: calc(50vw - 0.6em);\n  height: calc(50vw - 0.6em);\n  vertical-align: middle;\n  user-select: none;\n  border-radius: 0.5em;\n  box-shadow: 0 0.1em 0.5em #00000030;\n  cursor: pointer;\n  transition: all ease 0.1s;\n  background-color: ${({ bgcolor }) => bgcolor || \"#bbb\"};\n  color: #fff;\n  box-sizing: border-box;\n  margin: 0.3em;\n\n  &:hover {\n    filter: brightness(105%);\n  }\n\n  &:active {\n    filter: brightness(100%);\n    transform: translateY(1px);\n  }\n`;\n\nexport default TrainingMenu;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport TrainingMenu, { TrainingType } from \"@katachi/components/TrainingMenu\";\nexport { TrainingType };\n\nexport interface Props {\n  className?: string;\n  onSelect?: (type: TrainingType) => void;\n}\n\nconst TrainingMenuPage: React.FC<Props> = ({ className, onSelect }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      `}\n    >\n      <TrainingMenu onSelect={onSelect} />\n    </div>\n  );\n};\n\nexport default TrainingMenuPage;\n","/** @jsx jsx */\nimport React, { useCallback } from \"react\";\nimport { jsx } from \"@emotion/core\";\n\nimport { styled } from \"@katachi/style\";\nimport { Level } from \"@katachi/lib\";\n\nexport { Level };\n\nconst levels: [Level, string][] = [\n  [Level.Easy, \"Easy\"],\n  [Level.Normal, \"Normal\"],\n  [Level.Hard, \"Hard\"],\n  [Level.Ultimate, \"Ultimate\"]\n];\n\nexport interface Props {\n  className?: string;\n  onSelect?: (level: Level) => void;\n}\n\nconst TrainingLevelMenu: React.FC<Props> = ({ className, onSelect }) => {\n  const handleLevelClick = useCallback(\n    (level: Level) => (onSelect ? () => onSelect(level) : undefined),\n    [onSelect]\n  );\n\n  return (\n    <div className={className}>\n      {levels.map(([level, label]) => (\n        <MenuItem key={level} onClick={handleLevelClick(level)}>\n          {label}\n        </MenuItem>\n      ))}\n    </div>\n  );\n};\n\nconst MenuItem = styled.div<{ bgcolor?: string }>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  max-width: 200px;\n  max-height: 200px;\n  width: calc(50vw - 0.6em);\n  height: calc(50vw - 0.6em);\n  vertical-align: middle;\n  user-select: none;\n  border-radius: 0.5em;\n  box-shadow: 0 0.1em 0.5em #00000030;\n  cursor: pointer;\n  transition: all ease 0.1s;\n  background-color: ${({ bgcolor }) => bgcolor || \"#bbb\"};\n  color: #fff;\n  box-sizing: border-box;\n  margin: 0.3em;\n\n  &:hover {\n    filter: brightness(105%);\n  }\n\n  &:active {\n    filter: brightness(100%);\n    transform: translateY(1px);\n  }\n`;\n\nexport default TrainingLevelMenu;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport TrainingLevelMenu, {\n  Level\n} from \"@katachi/components/TrainingLevelMenu\";\nexport { Level };\n\nexport interface Props {\n  className?: string;\n  onSelect?: (level: Level) => void;\n}\n\nconst TrainingLevelMenuPage: React.FC<Props> = ({ className, onSelect }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      `}\n    >\n      <TrainingLevelMenu onSelect={onSelect} />\n    </div>\n  );\n};\n\nexport default TrainingLevelMenuPage;\n","import React from \"react\";\nimport { Line } from \"react-konva\";\n\nexport enum Direction {\n  Horizontal,\n  Vertical\n}\n\nexport interface Props {\n  x: number;\n  y: number;\n  length: number;\n  whiskerSize: number;\n  direction?: Direction;\n  stroke?: string;\n  strokeWidth?: number;\n}\n\nconst LineWithWhisker: React.FC<Props> = ({\n  x,\n  y,\n  length,\n  direction,\n  stroke,\n  strokeWidth,\n  whiskerSize\n}) => {\n  return (\n    <>\n      <Line\n        points={\n          direction === Direction.Horizontal\n            ? [x, y - whiskerSize / 2, x, y + whiskerSize / 2]\n            : [x - whiskerSize / 2, y, x + whiskerSize / 2, y]\n        }\n        stroke={stroke}\n        strokeWidth={strokeWidth}\n      />\n      <Line\n        points={\n          direction === Direction.Horizontal\n            ? [x + length, y - whiskerSize / 2, x + length, y + whiskerSize / 2]\n            : [x - whiskerSize / 2, y + length, x + whiskerSize / 2, y + length]\n        }\n        stroke={stroke}\n        strokeWidth={strokeWidth}\n      />\n      <Line\n        points={\n          direction === Direction.Horizontal\n            ? [x, y, x + length, y]\n            : [x, y, x, y + length]\n        }\n        stroke={stroke}\n        strokeWidth={strokeWidth}\n      />\n    </>\n  );\n};\n\nexport default LineWithWhisker;\n","import { useEventCallback } from \"rxjs-hooks\";\nimport { KonvaEventObject } from \"konva/types/Node\";\nimport {\n  withLatestFrom,\n  filter,\n  map,\n  distinctUntilChanged,\n  mapTo,\n  takeUntil,\n  mergeMap,\n  startWith,\n  tap,\n  skip\n} from \"rxjs/operators\";\nimport { numberArrayEqual, clamp } from \"@katachi/util\";\nimport { useRef, RefObject } from \"react\";\nimport { fromEvent, merge } from \"rxjs\";\n\nexport interface TrainingProps {\n  className?: string;\n  params: number[];\n  state?: (number | undefined)[];\n  isAnswerShown?: boolean;\n  screenSize: number;\n  scaleCorrection?: number;\n  disableOperation?: boolean;\n  onUpdate?: (state: (number | undefined)[]) => void;\n}\n\nexport type CalcStateFn = (args: {\n  x: number;\n  y: number;\n  index: number;\n  state: (number | undefined)[];\n  dx: number;\n  dy: number;\n  firstX: number;\n  firstY: number;\n  isFirstTime: boolean;\n  lastState: (number | undefined)[];\n}) => (number | undefined)[];\n\nexport interface UseDragOptions<E extends HTMLElement> {\n  firstState: (number | undefined)[] | undefined;\n  onUpdate?: (state: (number | undefined)[]) => void;\n  disableOperation?: boolean;\n  calcStateFromPos: CalcStateFn;\n  params: number[];\n  wrapperRef?: RefObject<E>;\n}\n\ntype Inputs<E extends HTMLElement> = [\n  UseDragOptions<E>[\"onUpdate\"],\n  UseDragOptions<E>[\"disableOperation\"],\n  UseDragOptions<E>[\"calcStateFromPos\"],\n  UseDragOptions<E>[\"params\"]\n];\n\nconst getPos = (e: MouseEvent | TouchEvent) =>\n  e instanceof TouchEvent\n    ? [e.targetTouches[0].pageX, e.targetTouches[0].pageY]\n    : [e.pageX, e.pageY];\n\nexport const useDrag = <E extends HTMLElement>(\n  opts: UseDragOptions<E>\n): [\n  (e: [KonvaEventObject<MouseEvent | TouchEvent>, number]) => void,\n  (number | undefined)[],\n  RefObject<E>\n] => {\n  const inputs: Inputs<E> = [\n    opts.onUpdate,\n    opts.disableOperation,\n    opts.calcStateFromPos,\n    opts.params\n  ];\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const wrapperRef = opts.wrapperRef || useRef<E>(null);\n  const [callback, state] = useEventCallback<\n    [KonvaEventObject<MouseEvent | TouchEvent>, number],\n    (number | undefined)[],\n    Inputs<E>\n  >(\n    (event$, inputs$, state$) =>\n      merge(\n        inputs$.pipe(\n          map(([, , , p]) => p),\n          distinctUntilChanged(numberArrayEqual),\n          mapTo([])\n        ),\n        event$.pipe(\n          withLatestFrom(inputs$, state$),\n          filter(([, [, disableOperation]]) => !disableOperation),\n          map(\n            ([[e, i], , st]) =>\n              [\n                getPos(e.evt),\n                wrapperRef.current\n                  ? [\n                      wrapperRef.current.getBoundingClientRect().left,\n                      wrapperRef.current.getBoundingClientRect().top\n                    ]\n                  : [],\n                i,\n                st.length === 0,\n                st\n              ] as const\n          ),\n          filter(([, offset]) => offset.length > 0),\n          mergeMap(([first, offset, i, isFirstTime, lastState]) =>\n            merge(\n              fromEvent<MouseEvent>(document, \"mousemove\"),\n              fromEvent<TouchEvent>(document, \"touchmove\")\n            ).pipe(\n              takeUntil(\n                merge(\n                  merge(\n                    fromEvent(document, \"mouseup\"),\n                    fromEvent(document, \"touchend\")\n                  ).pipe(\n                    withLatestFrom(inputs$, state$),\n                    tap(([, [onUpdate, disableOperation], st]) => {\n                      if (onUpdate && !disableOperation) {\n                        onUpdate(st);\n                      }\n                    })\n                  ),\n                  inputs$.pipe(\n                    skip(1),\n                    map(([, disableOperation]) => disableOperation),\n                    distinctUntilChanged(),\n                    filter(d => !!d)\n                  ),\n                  inputs$.pipe(\n                    skip(1),\n                    map(([, , , params]) => params),\n                    distinctUntilChanged(numberArrayEqual)\n                  )\n                )\n              ),\n              map(e => getPos(e)),\n              startWith(first),\n              withLatestFrom(inputs$, state$),\n              map(([e, [, , calcStateFromPos], st]) =>\n                calcStateFromPos({\n                  x: e[0] - offset[0],\n                  y: e[1] - offset[1],\n                  index: i,\n                  state: st,\n                  dx: e[0] - first[0],\n                  dy: e[1] - first[1],\n                  firstX: first[0],\n                  firstY: first[1],\n                  isFirstTime,\n                  lastState\n                }).map(s => (typeof s === \"number\" ? clamp(s, 0, 1) : s))\n              )\n            )\n          )\n        )\n      ),\n    opts.firstState || [],\n    inputs\n  );\n  return [callback, state, wrapperRef];\n};\n","// training constants\nexport const baseLength = 200;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection;\n\n// style constants\nexport const whiskerLength = 40;\nexport const strokeWidth = 3;\nexport const clickablePaddingW = 200;\nexport const clickablePaddingH = 30;\n","import React from \"react\";\nimport { KonvaEventObject } from \"konva/types/Node\";\nimport { Line, Layer } from \"react-konva\";\n\nimport {\n  whiskerLength,\n  strokeWidth,\n  clickablePaddingW,\n  clickablePaddingH\n} from \"./constants\";\nimport LineWithWhisker from \"./LineWithWhisker\";\n\nexport enum Direction {\n  Vertical,\n  Horizontal\n}\n\nexport interface Props {\n  longerLength: number;\n  lineLength: number;\n  x: number;\n  y: number;\n  ratio?: (number | undefined)[];\n  answerRatio?: number[];\n  onMouseDown?: (e: KonvaEventObject<MouseEvent>, i: number) => void;\n  onTouchStart?: (e: KonvaEventObject<TouchEvent>, i: number) => void;\n  direction: Direction;\n  pointCount: number;\n}\n\nconst VerticalLineLayer: React.FC<Props> = ({\n  longerLength,\n  lineLength,\n  x,\n  y,\n  ratio,\n  answerRatio,\n  onMouseDown,\n  onTouchStart,\n  direction,\n  pointCount\n}) => {\n  if (longerLength === 0 || lineLength === 0) {\n    return null;\n  }\n  const handleMouseDown = (i: number) =>\n    onMouseDown\n      ? (e: KonvaEventObject<MouseEvent>) => onMouseDown(e, i)\n      : undefined;\n  const handleTouchStart = (i: number) =>\n    onTouchStart\n      ? (e: KonvaEventObject<TouchEvent>) => onTouchStart(e, i)\n      : undefined;\n  const nextPoint = ratio\n    ? ratio.length >= pointCount\n      ? ratio.length === 1\n        ? 0\n        : null\n      : ratio.length\n    : 0;\n  const handleMouseDownWhole = (e: KonvaEventObject<MouseEvent>) =>\n    onMouseDown && nextPoint !== null ? onMouseDown(e, nextPoint) : undefined;\n  const handleTouchStartWhole = (e: KonvaEventObject<TouchEvent>) =>\n    onTouchStart && nextPoint !== null ? onTouchStart(e, nextPoint) : undefined;\n  const y2 = direction === Direction.Horizontal ? 0 : longerLength - lineLength;\n  const y3 = (r: number) =>\n    direction === Direction.Horizontal\n      ? lineLength * r\n      : longerLength - lineLength * (1 - r);\n\n  return (\n    <Layer x={x} y={y} rotation={direction === Direction.Horizontal ? -90 : 0}>\n      <LineWithWhisker\n        x={0}\n        y={y2}\n        length={lineLength}\n        stroke=\"#000\"\n        strokeWidth={strokeWidth}\n        whiskerSize={whiskerLength}\n      />\n      {ratio &&\n        ratio.map((r, i) =>\n          typeof r === \"number\" ? (\n            <Line\n              key={i}\n              points={[-whiskerLength / 2, y3(r), whiskerLength / 2, y3(r)]}\n              strokeWidth={strokeWidth}\n              stroke=\"#000\"\n            />\n          ) : null\n        )}\n      {answerRatio &&\n        answerRatio.map((a, i) => (\n          <Line\n            key={i}\n            points={[-whiskerLength / 2, y3(a), whiskerLength / 2, y3(a)]}\n            strokeWidth={strokeWidth}\n            stroke=\"#f00\"\n          />\n        ))}\n      <Line\n        points={[0, -clickablePaddingH, 0, longerLength + clickablePaddingH]}\n        strokeWidth={clickablePaddingW}\n        onMouseDown={handleMouseDownWhole}\n        onTouchStart={handleTouchStartWhole}\n        stroke=\"transparent\"\n      />\n      {ratio &&\n        ratio.map((r, i) =>\n          typeof r === \"number\" ? (\n            <Line\n              key={i}\n              points={[\n                -clickablePaddingW / 2,\n                y3(r),\n                clickablePaddingW / 2,\n                y3(r)\n              ]}\n              strokeWidth={clickablePaddingH}\n              onMouseDown={handleMouseDown(i)}\n              onTouchStart={handleTouchStart(i)}\n              stroke=\"transparent\"\n            />\n          ) : null\n        )}\n    </Layer>\n  );\n};\n\nexport default VerticalLineLayer;\n","import React, { useCallback } from \"react\";\nimport { Stage, Layer, Rect } from \"react-konva\";\n\nimport { TrainingProps, useDrag, CalcStateFn } from \"../common\";\n\nimport { calcLength } from \"./constants\";\nimport VerticalLineLayer from \"./LineLayer\";\nimport { updateArray } from \"@katachi/util\";\n\nexport enum Direction {\n  Vertical,\n  Horizontal\n}\n\nexport interface Props extends TrainingProps {\n  pointCount: number;\n  direction: Direction;\n}\n\nconst RatioBar: React.FC<Props> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate,\n  pointCount,\n  direction\n}) => {\n  const lineLength = calcLength(params[0], scaleCorrection);\n  const line2Length = calcLength(params[1], scaleCorrection);\n  const longerLength = Math.max(lineLength, line2Length);\n  const answer = params.slice(2);\n\n  const calcStateFromPos = useCallback<CalcStateFn>(\n    ({ x, y, index, state }) =>\n      updateArray(\n        state,\n        index,\n        direction === Direction.Horizontal\n          ? (x - (screenSize - longerLength) / 2) / lineLength\n          : (y -\n              ((screenSize - longerLength) / 2 + (longerLength - lineLength))) /\n              lineLength\n      ),\n    [lineLength, longerLength, screenSize, direction]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  const mainBarX = (screenSize / 3) * 2;\n  const secondBarX = screenSize / 3;\n  const barY = (screenSize - longerLength) / 2;\n\n  return (\n    <div ref={wrapperRef} className={className}>\n      <Stage width={screenSize} height={screenSize}>\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n        </Layer>\n        <VerticalLineLayer\n          x={direction === Direction.Horizontal ? barY : secondBarX}\n          y={direction === Direction.Horizontal ? secondBarX : barY}\n          lineLength={line2Length}\n          longerLength={longerLength}\n          ratio={answer}\n          direction={direction}\n          pointCount={pointCount}\n        />\n        <VerticalLineLayer\n          x={direction === Direction.Horizontal ? barY : mainBarX}\n          y={direction === Direction.Horizontal ? mainBarX : barY}\n          lineLength={lineLength}\n          longerLength={longerLength}\n          ratio={state}\n          answerRatio={isAnswerShown ? answer : undefined}\n          onMouseDown={(e, i) => dragStartCallback([e, i])}\n          onTouchStart={(e, i) => dragStartCallback([e, i])}\n          direction={direction}\n          pointCount={pointCount}\n        />\n      </Stage>\n    </div>\n  );\n};\n\nexport default RatioBar;\n","import React, { useCallback } from \"react\";\nimport { Stage, Layer, Rect, Line } from \"react-konva\";\n\nimport { strokeWidth, calcLength, margin } from \"./constants\";\nimport { TrainingProps, useDrag, CalcStateFn } from \"../common\";\nimport { updateArray } from \"@katachi/util\";\n\nexport enum Direction {\n  Vertical,\n  Horizontal\n}\n\nexport interface Props extends TrainingProps {\n  direction?: Direction;\n}\n\nconst SquareSimpleLine: React.FC<Props> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate,\n  direction = Direction.Vertical\n}) => {\n  const rectSize = calcLength(params[0], scaleCorrection);\n  const rectX =\n    direction === Direction.Horizontal\n      ? (screenSize - rectSize) / 2\n      : (screenSize - rectSize * 2 - margin) / 2;\n  const rectY =\n    direction === Direction.Horizontal\n      ? (screenSize - rectSize * 2 - margin) / 2\n      : (screenSize - rectSize) / 2;\n  const mainRectX =\n    direction === Direction.Horizontal ? rectX : rectX + margin + rectSize;\n  const mainRectY =\n    direction === Direction.Horizontal ? rectY + margin + rectSize : rectY;\n\n  const calcStateFromPos = useCallback<CalcStateFn>(\n    ({ x, y, index, state }) =>\n      updateArray(\n        state,\n        index,\n        (direction === Direction.Horizontal ? y - mainRectY : x - mainRectX) /\n          rectSize\n      ),\n    [direction, mainRectY, mainRectX, rectSize]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  return (\n    <div className={className} ref={wrapperRef}>\n      <Stage\n        width={screenSize}\n        height={screenSize}\n        onMouseDown={e => dragStartCallback([e, 0])}\n        onTouchStart={e => dragStartCallback([e, 0])}\n      >\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n          <Rect\n            x={rectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Rect\n            x={mainRectX}\n            y={mainRectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Line\n            points={[\n              direction === Direction.Horizontal\n                ? rectX\n                : rectX + rectSize * params[1],\n              direction === Direction.Horizontal\n                ? rectY + rectSize * params[1]\n                : rectY,\n              direction === Direction.Horizontal\n                ? rectX + rectSize\n                : rectX + rectSize * params[1],\n              direction === Direction.Horizontal\n                ? rectY + rectSize * params[1]\n                : rectY + rectSize\n            ]}\n            stroke=\"#000\"\n            strokeWidth={strokeWidth}\n          />\n          {!!state && typeof state[0] === \"number\" && (\n            <Line\n              points={[\n                direction === Direction.Horizontal\n                  ? mainRectX\n                  : mainRectX + rectSize * (state[0] as number),\n                direction === Direction.Horizontal\n                  ? mainRectY + rectSize * (state[0] as number)\n                  : mainRectY,\n                direction === Direction.Horizontal\n                  ? mainRectX + rectSize\n                  : mainRectX + rectSize * (state[0] as number),\n                direction === Direction.Horizontal\n                  ? mainRectY + rectSize * (state[0] as number)\n                  : mainRectY + rectSize\n              ]}\n              stroke=\"#000\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n          {isAnswerShown && (\n            <Line\n              points={[\n                direction === Direction.Horizontal\n                  ? mainRectX\n                  : mainRectX + rectSize * params[1],\n                direction === Direction.Horizontal\n                  ? mainRectY + rectSize * params[1]\n                  : mainRectY,\n                direction === Direction.Horizontal\n                  ? mainRectX + rectSize\n                  : mainRectX + rectSize * params[1],\n                direction === Direction.Horizontal\n                  ? mainRectY + rectSize * params[1]\n                  : mainRectY + rectSize\n              ]}\n              stroke=\"#f00\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default SquareSimpleLine;\n","// training\nexport const baseLength = 400;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection;\n\n// style\n// export const bottomMargin = 100;\nexport const strokeWidth = 3;\nexport const calcRectX = (w: number, screenSize: number) =>\n  (screenSize - w) / 2;\nexport const calcRectY = (h: number, screenSize: number) =>\n  (screenSize - h) / 2;\nexport const calcAnswer = (w: number, h: number, screenSize: number) =>\n  calcRectY(h, screenSize) + h - w;\n","import React, { useCallback } from \"react\";\nimport { Stage, Layer, Rect, Line } from \"react-konva\";\n\nimport {\n  strokeWidth,\n  calcLength,\n  calcRectX,\n  calcAnswer,\n  calcRectY\n} from \"./constants\";\nimport { TrainingProps, useDrag, CalcStateFn } from \"../common\";\nimport { updateArray } from \"@katachi/util\";\n\nconst Square: React.FC<TrainingProps> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate\n}) => {\n  const rectW = calcLength(params[0], scaleCorrection);\n  const rectH = calcLength(params[1], scaleCorrection);\n  const rectX = calcRectX(rectW, screenSize);\n  const rectY = calcRectY(rectH, screenSize);\n  const answerY = calcAnswer(rectW, rectH, screenSize);\n\n  const calcStateFromPos = useCallback<CalcStateFn>(\n    ({ y, index, state }) => updateArray(state, index, (y - rectY) / rectH),\n    [rectH, rectY]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  return (\n    <div className={className} ref={wrapperRef}>\n      <Stage\n        width={screenSize}\n        height={screenSize}\n        onMouseDown={e => dragStartCallback([e, 0])}\n        onTouchStart={e => dragStartCallback([e, 0])}\n      >\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n          <Rect\n            x={rectX}\n            y={rectY}\n            width={rectW}\n            height={rectH}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          {!!state && typeof state[0] === \"number\" && (\n            <Line\n              points={[\n                rectX,\n                rectY + rectH * (state[0] as number),\n                rectX + rectW,\n                rectY + rectH * (state[0] as number)\n              ]}\n              stroke=\"#000\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n          {isAnswerShown && (\n            <Line\n              points={[rectX, answerY, rectX + rectW, answerY]}\n              stroke=\"#f00\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default Square;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { styled } from \"@katachi/style\";\n\nexport enum DisplayStyle {\n  Bar,\n  Text\n}\n\nexport interface Props {\n  className?: string;\n  duration?: number;\n  enabled?: boolean;\n  onTimeUp?: () => void;\n  id?: number;\n  displayStyle?: DisplayStyle;\n}\n\nconst Timer: React.FC<Props> = ({\n  className,\n  duration,\n  onTimeUp,\n  id,\n  enabled,\n  displayStyle = DisplayStyle.Bar\n}) => {\n  const [ratio, setRatio] = useState(0);\n  const [seconds, setSeconds] = useState(duration ? ~~(duration / 1000) : 0);\n  const onTimeUpRef = useRef(onTimeUp);\n  onTimeUpRef.current = onTimeUp;\n\n  useEffect(() => {\n    if (!enabled || !duration) return;\n    setRatio(0);\n    setSeconds(0);\n    const start = Date.now();\n    const time = setInterval(() => {\n      const r = Math.min((Date.now() - start) / duration, 1);\n      setRatio(r);\n      setSeconds(Math.ceil((duration - (Date.now() - start)) / 1000));\n      if (r === 1) {\n        clearInterval(time);\n        if (onTimeUpRef.current) {\n          onTimeUpRef.current();\n        }\n      }\n    }, 17);\n    return () => clearInterval(time);\n  }, [duration, enabled, id]);\n\n  return displayStyle === DisplayStyle.Bar ? (\n    <BarWrapper className={className}>\n      {duration && <Bar ratio={ratio} />}\n    </BarWrapper>\n  ) : (\n    <TextWrapper className={className}>{seconds}</TextWrapper>\n  );\n};\n\nconst BarWrapper = styled.div`\n  width: 100%;\n`;\nconst Bar = styled.div<{ ratio: number }>`\n  width: ${({ ratio }) => (1 - ratio) * 100}%;\n  height: 3px;\n  background-color: ${({ theme }) => theme.accent};\n`;\n\nconst TextWrapper = styled.div`\n  font-size: 4rem;\n  width: 2em;\n  padding: 0.2em 0.4em;\n  display: inline-block;\n  text-align: center;\n`;\n\nexport default Timer;\n","// training\nexport const baseLength = 150;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection;\n\n// style\nexport const margin = 20;\nexport const strokeWidth = 3;\n","import React, { useCallback } from \"react\";\nimport { Stage, Layer, Rect, Line, Circle } from \"react-konva\";\n\nimport { strokeWidth, calcLength, margin, padding } from \"./constants\";\nimport { TrainingProps, useDrag } from \"../common\";\nimport { updateArray } from \"@katachi/util\";\n\nconst SquareVerticalLine: React.FC<TrainingProps> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate\n}) => {\n  const rectSize = calcLength(params[0], scaleCorrection);\n  const rectX = (screenSize - rectSize * 2 - margin) / 2;\n  const rectY = (screenSize - rectSize) / 2;\n  const mainRectX = rectX + margin + rectSize;\n\n  const calcStateFromPos = useCallback(\n    ({ x, index, state }) =>\n      updateArray(state, index, (x - mainRectX) / rectSize),\n    [rectSize, mainRectX]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  const nextPoint = state ? (state.length === 2 ? null : state.length) : 0;\n\n  return (\n    <div className={className} ref={wrapperRef}>\n      <Stage\n        width={screenSize}\n        height={screenSize}\n        onMouseDown={\n          nextPoint !== null\n            ? e => dragStartCallback([e, nextPoint])\n            : undefined\n        }\n        onTouchStart={\n          nextPoint !== null\n            ? e => dragStartCallback([e, nextPoint])\n            : undefined\n        }\n      >\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n          <Rect\n            x={rectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Rect\n            x={mainRectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Line\n            points={[\n              rectX + rectSize * params[1],\n              rectY,\n              rectX + rectSize * params[2],\n              rectY + rectSize\n            ]}\n            stroke=\"#000\"\n            strokeWidth={strokeWidth}\n          />\n          {!!state &&\n            state.length === 2 &&\n            typeof state[0] === \"number\" &&\n            typeof state[1] === \"number\" && (\n              <Line\n                points={[\n                  mainRectX + rectSize * (state[0] as number),\n                  rectY,\n                  mainRectX + rectSize * (state[1] as number),\n                  rectY + rectSize\n                ]}\n                stroke=\"#000\"\n                strokeWidth={strokeWidth}\n              />\n            )}\n          {!!state &&\n            state.map((s, i) =>\n              typeof s === \"number\" ? (\n                <Circle\n                  key={i}\n                  x={mainRectX + rectSize * s}\n                  y={i === 1 ? rectY + rectSize : rectY}\n                  radius={4}\n                  fill=\"black\"\n                />\n              ) : null\n            )}\n          {!!state &&\n            state.map((s, i) => (\n              <Line\n                key={i}\n                points={[\n                  mainRectX - padding,\n                  i === 0 ? rectY : rectY + rectSize,\n                  mainRectX + rectSize + padding,\n                  i === 0 ? rectY : rectY + rectSize\n                ]}\n                strokeWidth={padding}\n                stroke=\"transparent\"\n                onMouseDown={e => dragStartCallback([e, i])}\n                onTouchStart={e => dragStartCallback([e, i])}\n              />\n            ))}\n          {isAnswerShown && (\n            <Line\n              points={[\n                mainRectX + rectSize * params[1],\n                rectY,\n                mainRectX + rectSize * params[2],\n                rectY + rectSize\n              ]}\n              stroke=\"#f00\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default SquareVerticalLine;\n","// training\nexport const baseLength = 150;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection;\n\n// style\nexport const margin = 20;\nexport const strokeWidth = 3;\nexport const padding = 20;\n","import React, { useCallback } from \"react\";\nimport { Stage, Layer, Rect, Circle } from \"react-konva\";\n\nimport { strokeWidth, calcLength, margin } from \"./constants\";\nimport { TrainingProps, useDrag, CalcStateFn } from \"../common\";\n\nconst SquarePoint: React.FC<TrainingProps> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate\n}) => {\n  const rectSize = calcLength(params[0], scaleCorrection);\n  const rectX = (screenSize - rectSize * 2 - margin) / 2;\n  const rectY = (screenSize - rectSize) / 2;\n  const mainRectX = rectX + margin + rectSize;\n\n  const calcStateFromPos = useCallback<CalcStateFn>(\n    ({ x, y, dx, dy, isFirstTime, lastState }) =>\n      isFirstTime ||\n      (typeof lastState[0] === \"number\" && typeof lastState[1] === \"number\")\n        ? [\n            (isFirstTime\n              ? x - mainRectX\n              : (lastState[0] as number) * rectSize + dx) / rectSize,\n            (isFirstTime\n              ? y - rectY\n              : (lastState[1] as number) * rectSize + dy) / rectSize\n          ]\n        : [],\n    [mainRectX, rectSize, rectY]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  return (\n    <div className={className} ref={wrapperRef}>\n      <Stage\n        width={screenSize}\n        height={screenSize}\n        onMouseDown={e => dragStartCallback([e, -1])}\n        onTouchStart={e => dragStartCallback([e, -1])}\n      >\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n          <Rect\n            x={rectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Rect\n            x={mainRectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Circle\n            x={rectX + rectSize * params[1]}\n            y={rectY + rectSize * params[2]}\n            fill=\"#000\"\n            radius={3}\n          />\n          {!!state &&\n            state.length === 2 &&\n            typeof state[0] === \"number\" &&\n            typeof state[1] === \"number\" && (\n              <Circle\n                x={mainRectX + rectSize * (state[0] as number)}\n                y={rectY + rectSize * (state[1] as number)}\n                fill=\"#000\"\n                radius={3}\n              />\n            )}\n          {isAnswerShown && (\n            <Circle\n              x={mainRectX + rectSize * params[1]}\n              y={rectY + rectSize * params[2]}\n              fill=\"#f00\"\n              radius={3}\n            />\n          )}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default SquarePoint;\n","// training\nexport const baseLength = 150;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection;\n\n// style\nexport const margin = 20;\nexport const strokeWidth = 3;\n","import React, { useCallback, Fragment } from \"react\";\nimport { Stage, Layer, Rect, Line, Circle } from \"react-konva\";\n\nimport { strokeWidth, calcLength, margin, padding } from \"./constants\";\nimport { TrainingProps, useDrag, CalcStateFn } from \"../common\";\nimport { updateArray } from \"@katachi/util\";\n\nconst SquareDogleggedLine: React.FC<TrainingProps> = ({\n  className,\n  params,\n  state: firstState,\n  isAnswerShown,\n  screenSize,\n  scaleCorrection = 1,\n  disableOperation,\n  onUpdate\n}) => {\n  const rectSize = calcLength(params[0], scaleCorrection);\n  const rectX = (screenSize - rectSize * 2 - margin) / 2;\n  const rectY = (screenSize - rectSize) / 2;\n  const mainRectX = rectX + margin + rectSize;\n\n  const calcStateFromPos = useCallback<CalcStateFn>(\n    ({ x, y, dx, dy, index, isFirstTime, lastState, state }) =>\n      index >= 2\n        ? [\n            state[0],\n            state[1],\n            (isFirstTime || !lastState[2]\n              ? x - mainRectX\n              : (lastState[2] as number) * rectSize + dx) / rectSize,\n            (isFirstTime || !lastState[3]\n              ? y - rectY\n              : (lastState[3] as number) * rectSize + dy) / rectSize\n          ]\n        : updateArray(state, index, (x - mainRectX) / rectSize),\n    [mainRectX, rectSize, rectY]\n  );\n\n  const [dragStartCallback, state, wrapperRef] = useDrag<HTMLDivElement>({\n    firstState,\n    onUpdate,\n    disableOperation,\n    calcStateFromPos,\n    params\n  });\n\n  return (\n    <div className={className} ref={wrapperRef}>\n      <Stage width={screenSize} height={screenSize}>\n        <Layer>\n          <Rect stroke=\"#eee\" width={screenSize} height={screenSize} />\n          <Rect\n            x={rectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n          />\n          <Rect\n            x={mainRectX}\n            y={rectY}\n            width={rectSize}\n            height={rectSize}\n            strokeWidth={strokeWidth}\n            stroke=\"#000\"\n            onMouseDown={e => dragStartCallback([e, 2])}\n            onTouchStart={e => dragStartCallback([e, 2])}\n          />\n          <Line\n            points={[\n              rectX + rectSize * params[1],\n              rectY,\n              rectX + rectSize * params[3],\n              rectY + rectSize * params[4],\n              rectX + rectSize * params[2],\n              rectY + rectSize\n            ]}\n            stroke=\"#000\"\n            strokeWidth={strokeWidth}\n          />\n          {!!state &&\n            state.length === 4 &&\n            state.every((s): s is number => typeof s === \"number\") && (\n              <Line\n                points={[\n                  mainRectX + rectSize * (state[0] as number),\n                  rectY,\n                  mainRectX + rectSize * (state[2] as number),\n                  rectY + rectSize * (state[3] as number),\n                  mainRectX + rectSize * (state[1] as number),\n                  rectY + rectSize\n                ]}\n                stroke=\"#000\"\n                strokeWidth={strokeWidth}\n              />\n            )}\n          {!!state &&\n            typeof state[2] === \"number\" &&\n            typeof state[3] === \"number\" && (\n              <Circle\n                x={mainRectX + rectSize * (state[2] as number)}\n                y={rectY + rectSize * (state[3] as number)}\n                radius={4}\n                fill=\"black\"\n              />\n            )}\n          {[0, 1].map(i => (\n            <Fragment key={i}>\n              {typeof state[i] === \"number\" && (\n                <Circle\n                  x={mainRectX + rectSize * (state[i] as number)}\n                  y={i === 0 ? rectY : rectY + rectSize}\n                  radius={4}\n                  fill=\"black\"\n                />\n              )}\n              <Line\n                points={[\n                  mainRectX - padding,\n                  i === 0 ? rectY : rectY + rectSize,\n                  mainRectX + rectSize + padding,\n                  i === 0 ? rectY : rectY + rectSize\n                ]}\n                strokeWidth={padding}\n                stroke=\"transparent\"\n                onMouseDown={e => {\n                  e.cancelBubble = true;\n                  dragStartCallback([e, i]);\n                }}\n                onTouchStart={e => {\n                  e.cancelBubble = true;\n                  dragStartCallback([e, i]);\n                }}\n              />\n            </Fragment>\n          ))}\n          {isAnswerShown && (\n            <Line\n              points={[\n                mainRectX + rectSize * params[1],\n                rectY,\n                mainRectX + rectSize * params[3],\n                rectY + rectSize * params[4],\n                mainRectX + rectSize * params[2],\n                rectY + rectSize\n              ]}\n              stroke=\"#f00\"\n              strokeWidth={strokeWidth}\n            />\n          )}\n        </Layer>\n      </Stage>\n    </div>\n  );\n};\n\nexport default SquareDogleggedLine;\n","// training\nexport const minlength = 110;\nexport const baseLength = 40;\nexport const calcLength = (ratio: number, scaleCorrection: number) =>\n  ratio * baseLength * scaleCorrection + minlength;\n\n// style\nexport const margin = 20;\nexport const padding = 20;\nexport const strokeWidth = 3;\n","import React from \"react\";\n\nimport { TrainingType } from \"@katachi/lib\";\nimport RatioBar, { Direction } from \"./RatioBar\";\nimport Square from \"./Square\";\nimport SquareSimpleLine from \"./SquareSimpleLine\";\nimport SquareSkewedLine from \"./SquareSkewedLine\";\nimport SquarePoint from \"./SquarePoint\";\nimport SquareDogleggedLine from \"./SquareDogleggedLine\";\n\nexport { TrainingType };\n\nexport interface Props {\n  className?: string;\n  type: TrainingType;\n  params: number[];\n  state?: (number | undefined)[];\n  isAnswerShown?: boolean;\n  disableOperation?: boolean;\n  screenSize: number;\n  scaleCorrection?: number;\n  onUpdate?: (state: (number | undefined)[]) => void;\n}\n\nconst Training: React.FC<Props> = props => {\n  switch (props.type) {\n    case TrainingType.VerticalLine1:\n      return (\n        <RatioBar {...props} pointCount={1} direction={Direction.Vertical} />\n      );\n    case TrainingType.VerticalLine2:\n      return (\n        <RatioBar {...props} pointCount={2} direction={Direction.Vertical} />\n      );\n    case TrainingType.HorizontalLine1:\n      return (\n        <RatioBar {...props} pointCount={1} direction={Direction.Horizontal} />\n      );\n    case TrainingType.HorizontalLine2:\n      return (\n        <RatioBar {...props} pointCount={2} direction={Direction.Horizontal} />\n      );\n    case TrainingType.Square:\n      return <Square {...props} />;\n    case TrainingType.SquareVerticalLine:\n      return <SquareSimpleLine {...props} direction={Direction.Vertical} />;\n    case TrainingType.SquareHorizontalLine:\n      return <SquareSimpleLine {...props} direction={Direction.Horizontal} />;\n    case TrainingType.SquareSkewedLine:\n      return <SquareSkewedLine {...props} />;\n    case TrainingType.SquarePoint:\n      return <SquarePoint {...props} />;\n    case TrainingType.SquareDogleggedLine:\n      return <SquareDogleggedLine {...props} />;\n  }\n  return null;\n};\n\nexport default Training;\n","/** @jsx jsx */\nimport React, { useState, useCallback, Fragment } from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport Button from \"../Button\";\nimport Timer, { DisplayStyle } from \"../Timer\";\n\nexport interface Props {\n  className?: string;\n  duration: number;\n  onStart?: () => void;\n}\n\nconst TrainingStart: React.FC<Props> = ({ className, duration, onStart }) => {\n  const [buttonPushed, setButtonPushed] = useState(false);\n  const handleClick = useCallback(() => {\n    setButtonPushed(true);\n  }, []);\n\n  return (\n    <div className={className}>\n      {buttonPushed ? (\n        <div\n          css={css`\n            text-align: center;\n          `}\n        >\n          <Timer\n            duration={duration}\n            enabled\n            onTimeUp={onStart}\n            displayStyle={DisplayStyle.Text}\n          />\n        </div>\n      ) : (\n        <Fragment>\n          <div>トレーニングを始める</div>\n          <Button onClick={handleClick}>START</Button>\n        </Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default TrainingStart;\n","import React from \"react\";\nimport { styled } from \"@katachi/style\";\n\nimport { getRating, Rating as RatingEnum } from \"@katachi/lib\";\n\nexport interface Props {\n  className?: string;\n  score: number;\n  small?: boolean;\n}\n\nconst styles: { [key in RatingEnum]: { color: string } } = {\n  [RatingEnum.Legend]: { color: \"red\" },\n  [RatingEnum.Excellent]: { color: \"red\" },\n  [RatingEnum.Good]: { color: \"red\" },\n  [RatingEnum.Bad]: { color: \"red\" }\n};\n\nconst Rating: React.FC<Props> = ({ className, score, small }) => {\n  const rating = getRating(score);\n  return (\n    <StyledSvg\n      rating={rating}\n      className={className}\n      version=\"1.1\"\n      width={small ? 100 : 170}\n      height={small ? 30 : 50}\n      viewBox={small ? \"0 0 100 30\" : \"0 0 170 50\"}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <defs>\n        <filter id=\"inset-shadow\">\n          <feOffset dx=\"2\" dy=\"3\" />\n          <feGaussianBlur stdDeviation=\"1\" result=\"offset-blur\" />\n          <feComposite\n            operator=\"out\"\n            in=\"SourceGraphic\"\n            in2=\"offset-blur\"\n            result=\"inverse\"\n          />\n          <feFlood flood-color=\"black\" flood-opacity=\"0.40\" result=\"color\" />\n          <feComposite operator=\"in\" in=\"color\" in2=\"inverse\" result=\"shadow\" />\n          <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\" />\n        </filter>\n      </defs>\n      <text\n        x=\"50%\"\n        y=\"50%\"\n        text-anchor=\"middle\"\n        dominant-baseline=\"central\"\n        fontSize={small ? 16 : 24}\n        fontWeight=\"bold\"\n        fill={styles[rating].color}\n        stroke=\"#000\"\n        strokeWidth={1}\n        filter=\"url(#inset-shadow)\"\n      >\n        {rating.toUpperCase()}\n      </text>\n    </StyledSvg>\n  );\n};\n\nconst StyledSvg = styled.svg<{ rating: RatingEnum }>`\n  display: inline-block;\n`;\n\nexport default Rating;\n","import React from \"react\";\nimport { TrainingType, getTitle, humanReadableScore } from \"@katachi/lib\";\n\nimport Rating from \"../Rating\";\n\nexport { TrainingType };\n\nexport interface Props {\n  className?: string;\n  type: TrainingType;\n  scores: number[];\n}\n\nconst TrainingResult: React.FC<Props> = ({ className, scores, type }) => {\n  const totalScore =\n    scores.length > 0 ? scores.reduce((a, b) => a + b, 0) / scores.length : 0;\n  return (\n    <div className={className}>\n      <h1>{getTitle(type)}</h1>\n      <p>\n        Total: {humanReadableScore(totalScore)} <Rating score={totalScore} />\n      </p>\n      <ul>\n        {scores.map((s, i) => (\n          <li key={i}>\n            <span>\n              {i + 1}: {humanReadableScore(s)}\n            </span>\n            <Rating small score={s} />\n          </li>\n        ))}{\" \"}\n      </ul>\n    </div>\n  );\n};\n\nexport default TrainingResult;\n","/** @jsx jsx */\nimport React, {\n  useState,\n  useCallback,\n  useMemo,\n  useRef,\n  Fragment,\n  useEffect\n} from \"react\";\nimport { jsx, css } from \"@emotion/core\";\nimport useResizeObserver from \"use-resize-observer\";\n\nimport {\n  TrainingType,\n  validateState,\n  judgeScore,\n  initTrainings,\n  getDuration,\n  Level,\n  TrainingHistory\n} from \"@katachi/lib\";\nimport Training from \"@katachi/components/Training\";\nimport Button from \"@katachi/components/Button\";\nimport Timer from \"@katachi/components/Timer\";\nimport TrainingStart from \"@katachi/components/TrainingStart\";\nimport TrainingResult from \"@katachi/components/TrainingResult\";\nimport Rating from \"@katachi/components/Rating\";\n\nexport { TrainingType, Level };\n\nexport interface Props {\n  className?: string;\n  type: TrainingType;\n  scaleCorrection?: number;\n  level: Level;\n  onResult?: (history: TrainingHistory) => void;\n  onFinish?: () => void;\n}\n\nconst trainingCount = 10;\nconst maxScreenSize = 500;\n\nconst TrainingPage: React.FC<Props> = ({\n  className,\n  type,\n  scaleCorrection,\n  level,\n  onResult,\n  onFinish\n}) => {\n  const finishedAt = useRef<Date>();\n  const status = useRef<(number | undefined)[][]>([]);\n  const scores = useRef<number[]>([]);\n  const trainings = useMemo(() => initTrainings(type, trainingCount), [type]);\n  const [started, setStarted] = useState(false);\n  const [currentTraining, changeTraining] = useState(0);\n  const [currentState, setCurrentState] = useState<(number | undefined)[]>();\n  const [isAnswerShown, setAnswerShown] = useState(false);\n  const [resizeRef, width] = useResizeObserver();\n  const [nextButtonVisible, setNextButtonVisible] = useState(false);\n  useEffect(() => {\n    if (isAnswerShown) {\n      const timeout = setTimeout(() => {\n        setNextButtonVisible(true);\n      }, 1000);\n      return () => clearTimeout(timeout);\n    } else {\n      setNextButtonVisible(false);\n    }\n  }, [isAnswerShown]);\n\n  const handleAnswer = useCallback(() => {\n    if (!trainings || trainings.length <= currentTraining || !currentState)\n      return;\n    const score = judgeScore(type, trainings[currentTraining], currentState);\n    scores.current = [...scores.current, score];\n    status.current = [...status.current, currentState];\n    setAnswerShown(true);\n  }, [currentState, currentTraining, trainings, type]);\n\n  const handleNext = useCallback(() => {\n    if (!trainings) return;\n    setAnswerShown(false);\n    setCurrentState(undefined);\n    changeTraining(currentTraining + 1);\n    if (\n      trainings.length <= currentTraining + 1 &&\n      onResult &&\n      !finishedAt.current\n    ) {\n      finishedAt.current = new Date();\n      onResult({\n        datetime: finishedAt.current,\n        level: level,\n        scores: scores.current,\n        type,\n        params: trainings,\n        state: status.current as number[][]\n      });\n    }\n  }, [currentTraining, level, onResult, trainings, type]);\n\n  const isAnswerable = useMemo(\n    () => !isAnswerShown && currentState && validateState(type, currentState),\n    [currentState, isAnswerShown, type]\n  );\n\n  const handleTimeUp = useCallback(() => {\n    if (!trainings || trainings.length <= currentTraining) return;\n    const score = judgeScore(\n      type,\n      trainings[currentTraining],\n      isAnswerable ? currentState : undefined\n    );\n    scores.current = [...scores.current, score];\n    setAnswerShown(true);\n  }, [currentState, currentTraining, isAnswerable, trainings, type]);\n\n  const handleStart = useCallback(() => {\n    setStarted(true);\n  }, []);\n\n  if (!trainings) return null;\n  const trainingSize = Math.min(width, maxScreenSize);\n  const duration = getDuration(type, level);\n\n  return (\n    <div\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        padding: 1em;\n      `}\n      className={className}\n    >\n      <div\n        ref={resizeRef}\n        css={css`\n          width: 100%;\n          height: 100%;\n          box-sizing: border-box;\n        `}\n      >\n        {!started ? (\n          <TrainingStart duration={3000} onStart={handleStart} />\n        ) : trainings.length <= currentTraining ? (\n          <Fragment>\n            <TrainingResult type={type} scores={scores.current} />\n            <Button\n              onClick={() => {\n                if (onFinish) {\n                  onFinish();\n                }\n              }}\n            >\n              Finish\n            </Button>\n          </Fragment>\n        ) : (\n          <div\n            css={css`\n              width: 100%;\n              height: 100%;\n              display: flex;\n              flex-direction: column;\n              box-sizing: border-box;\n            `}\n          >\n            <Timer\n              css={css`\n                position: absolute;\n                top: 0;\n                left: 0;\n              `}\n              id={currentTraining}\n              enabled={!isAnswerShown}\n              duration={duration}\n              onTimeUp={handleTimeUp}\n            />\n            <div\n              css={css`\n                text-align: center;\n                visibility: ${isAnswerShown ? \"visible\" : \"hidden\"};\n              `}\n            >\n              <Rating\n                score={\n                  scores.current.length > 0\n                    ? scores.current[scores.current.length - 1]\n                    : 0\n                }\n              />\n            </div>\n            <div\n              css={css`\n                flex: auto;\n                text-align: center;\n              `}\n            >\n              <div\n                css={css`\n                  margin: 0 auto;\n                  width: ${trainingSize}px;\n                `}\n              >\n                <Training\n                  type={type}\n                  params={trainings[currentTraining]}\n                  screenSize={trainingSize}\n                  scaleCorrection={scaleCorrection}\n                  isAnswerShown={isAnswerShown}\n                  disableOperation={isAnswerShown}\n                  onUpdate={setCurrentState}\n                />\n              </div>\n            </div>\n            <div\n              css={css`\n                margin-top: auto;\n              `}\n            >\n              {isAnswerable && <Button onClick={handleAnswer}>OK</Button>}\n              {nextButtonVisible && (\n                <Button onClick={handleNext}>\n                  {trainings.length - 1 <= currentTraining\n                    ? \"Check Result\"\n                    : \"Next\"}\n                </Button>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TrainingPage;\n","import React from \"react\";\n\nexport interface Props {\n  className?: string;\n}\n\nconst Calendar: React.FC<Props> = ({ className }) => {\n  return <div className={className}></div>;\n};\n\nexport default Calendar;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport { TrainingHistory, getTitle, humanReadableScore } from \"@katachi/lib\";\nimport Rating from \"../Rating\";\n\nexport interface Props {\n  className?: string;\n  histories?: TrainingHistory[];\n}\n\nconst History: React.FC<Props> = ({ className, histories }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        background-color: #fff;\n      `}\n    >\n      {histories &&\n        histories.map(h => {\n          const score = h.scores.reduce((a, b) => a + b, 0) / h.scores.length;\n          return (\n            <div\n              key={h.datetime.toISOString()}\n              css={css`\n                padding: 0.5em 1em;\n                font-size: 0.9rem;\n                border-top: 1px solid #efefef;\n                display: flex;\n                align-items: center;\n\n                &:first-child {\n                  border-top: none;\n                }\n              `}\n            >\n              <div css={css``}>{h.datetime.toLocaleString()}</div>\n              <div\n                css={css`\n                  margin-left: 1em;\n                `}\n              >\n                {getTitle(h.type)}\n              </div>\n              <div\n                css={css`\n                  margin-left: 1em;\n                `}\n              >\n                {h.level}\n              </div>\n              <div\n                css={css`\n                  margin-left: 1em;\n                `}\n              >\n                {humanReadableScore(score)}点\n              </div>\n              <div css={css``}>\n                <Rating small score={score} />\n              </div>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default History;\n","import React from \"react\";\n\nexport interface Props {\n  className?: string;\n}\n\nconst Chart: React.FC<Props> = ({ className }) => {\n  return <div className={className}></div>;\n};\n\nexport default Chart;\n","import React from \"react\";\n\nexport interface Props {\n  className?: string;\n}\n\nconst WeakPoint: React.FC<Props> = ({ className }) => {\n  return <div className={className}></div>;\n};\n\nexport default WeakPoint;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport { TrainingHistory } from \"@katachi/lib\";\nimport Calendar from \"@katachi/components/Calendar\";\nimport History from \"@katachi/components/History\";\nimport Chart from \"@katachi/components/Chart\";\nimport WeakPoint from \"@katachi/components/WeakPoint\";\n\nexport interface Props {\n  className?: string;\n  histories?: TrainingHistory[];\n}\n\nconst ReportPage: React.FC<Props> = ({ className, histories }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #f0f0f0;\n        padding: 1em;\n      `}\n    >\n      <History histories={histories} />\n      <Calendar />\n      <Chart />\n      <WeakPoint />\n    </div>\n  );\n};\n\nexport default ReportPage;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport { useTheme } from \"@katachi/style\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport interface MenuItem {\n  id: string;\n  label: string;\n  icon?: IconProp;\n  iconColor?: string;\n}\n\nexport interface Props {\n  className?: string;\n  items?: MenuItem[];\n  onSelect?: (id: string) => void;\n}\n\nconst Menu: React.FC<Props> = ({ className, items, onSelect }) => {\n  const theme = useTheme();\n\n  const handleSelect = (id: string) => () => {\n    if (onSelect) {\n      onSelect(id);\n    }\n  };\n  const iconShown = items && items.some(i => !!i.icon);\n\n  return (\n    <ul\n      className={className}\n      css={css`\n        margin: 0;\n        padding: 0;\n        background-color: #fff;\n      `}\n    >\n      {items &&\n        items.map(item => (\n          <li\n            css={css`\n              display: block;\n              padding: 0.8em 1em 0.8em ${iconShown && item.icon ? \"3em\" : \"1em\"};\n              user-select: none;\n              cursor: pointer;\n              position: relative;\n              transition: all ease 0.1s;\n              font-size: 0.9rem;\n              border-top: 1px solid #efefef;\n\n              &:after {\n                content: \">\";\n                float: right;\n                color: ${theme.accent};\n                font-size: 0.9rem;\n              }\n\n              &:active:after {\n                color: #fff;\n              }\n\n              &:active {\n                background-color: ${theme.accent};\n                color: #fff;\n              }\n            `}\n            key={item.id}\n            onClick={handleSelect(item.id)}\n          >\n            {item.icon && (\n              <FontAwesomeIcon\n                color={item.iconColor}\n                icon={item.icon}\n                css={css`\n                  margin-top: -0.1em;\n                  margin-right: 0.7em;\n                  font-size: 1.2em;\n                  vertical-align: middle;\n                `}\n              />\n            )}\n            {item.label}\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\nimport Menu from \"@katachi/components/Menu\";\n\nexport enum Item {\n  ScaleCorrection = \"scalecorrection\",\n  SignOut = \"signout\"\n}\n\nexport interface Props {\n  className?: string;\n  onSelect?: (item: Item) => void;\n}\n\nconst items = [\n  { id: Item.ScaleCorrection, label: \"スクリーンサイズの補正\" },\n  { id: Item.SignOut, label: \"ログアウト\" }\n];\n\nconst SettingPage: React.FC<Props> = ({ className, onSelect }) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #f0f0f0;\n      `}\n    >\n      <Menu\n        items={items}\n        onSelect={id => {\n          if (onSelect) {\n            onSelect(id as Item);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport default SettingPage;\n","/** @jsx jsx */\nimport React, { useState, useEffect } from \"react\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport Button from \"../Button\";\n\nexport interface Props {\n  className?: string;\n  scaleCorrection?: number;\n  onEnter?: (scaleCorrection: number) => void;\n}\n\nconst basePixelLength = 150;\nconst baseCmLength = 3;\n\nconst ScaleCorrector: React.FC<Props> = ({\n  className,\n  scaleCorrection,\n  onEnter\n}) => {\n  const [value, setValue] = useState(\n    typeof scaleCorrection === \"number\" ? scaleCorrection : 50\n  );\n  useEffect(() => {\n    if (typeof scaleCorrection === \"number\") {\n      setValue((scaleCorrection - 0.5) * 100);\n    }\n  }, [scaleCorrection]);\n  const sc = value / 100 + 0.5;\n\n  return (\n    <div className={className}>\n      <p\n        css={css`\n          text-align: center;\n          margin: 0;\n          padding: 2em 0;\n        `}\n      >\n        棒の長さが {baseCmLength}cm になるように調整してください\n      </p>\n      <div\n        css={css`\n          padding: 5em 0;\n        `}\n      >\n        <div\n          css={css`\n            width: ${basePixelLength * sc}px;\n            height: 3px;\n            background-color: #000;\n            margin: 0 auto;\n          `}\n        />\n      </div>\n      <p\n        css={css`\n          text-align: center;\n          margin: 0 0 5em 0;\n        `}\n      >\n        <input\n          type=\"range\"\n          min={0}\n          max={100}\n          value={value}\n          onChange={e => setValue(parseFloat(e.currentTarget.value))}\n          css={css`\n            width: 50%;\n            min-width: 300px;\n          `}\n        />\n      </p>\n      <Button\n        onClick={() => {\n          if (onEnter) {\n            onEnter(sc);\n          }\n        }}\n      >\n        OK\n      </Button>\n    </div>\n  );\n};\n\nexport default ScaleCorrector;\n","/** @jsx jsx */\nimport React from \"react\";\nimport { css, jsx } from \"@emotion/core\";\nimport ScaleCorrector from \"@katachi/components/ScaleCorrector\";\n\nexport interface Props {\n  className?: string;\n  scaleCorrection?: number;\n  onScaleCorrectionEnter?: (sc: number) => void;\n}\n\nconst ScaleCorrectionPage: React.FC<Props> = ({\n  className,\n  scaleCorrection,\n  onScaleCorrectionEnter\n}) => {\n  return (\n    <div\n      className={className}\n      css={css`\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        padding: 1em;\n      `}\n    >\n      <ScaleCorrector\n        scaleCorrection={scaleCorrection}\n        onEnter={onScaleCorrectionEnter}\n      />\n    </div>\n  );\n};\n\nexport default ScaleCorrectionPage;\n","/** @jsx jsx */\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport { hot } from \"react-hot-loader/root\";\nimport { css, jsx } from \"@emotion/core\";\n\nimport { GlobalStyle, ThemeProvider } from \"./style\";\nimport AppContainer, { Mode } from \"./components/AppContainer\";\nimport HomePage from \"./pages/HomePage\";\nimport { TrainingType, Level } from \"./lib\";\nimport { clamp } from \"./util\";\nimport { useAuth, useHistories, AuthState } from \"./db\";\nimport TrainingMenuPage from \"./pages/TrainingMenuPage\";\nimport TrainingLevelMenuPage from \"./pages/TrainingLevelMenuPage\";\nimport TrainingPage from \"./pages/TrainingPage\";\nimport ReportPage from \"./pages/ReportPage\";\nimport SettingPage, { Item } from \"./pages/SettingPage\";\nimport ScaleCorrectionPage from \"./pages/ScaleCorrectionPage\";\n\nenum Route {\n  Home,\n  TrainingMenu,\n  TrainingLevel,\n  Training,\n  Report,\n  Setting,\n  ScaleCorrection,\n  ScaleCorrectionFirst\n}\n\nconst scaleCorrectionKey = \"katachi.scaleCorrection\";\n\nconst App: React.FC = () => {\n  const initialScaleCorrection = useMemo(() => {\n    const scstr = localStorage.getItem(scaleCorrectionKey);\n    return scstr ? clamp(2, 0, parseFloat(scstr)) : undefined;\n  }, []);\n  const [scaleCorrection, setScaleCorrection] = useState(\n    initialScaleCorrection || 1\n  );\n  const [training, setTraining] = useState<[TrainingType, Level | undefined]>();\n  useEffect(() => {\n    if (scaleCorrection) {\n      localStorage.setItem(scaleCorrectionKey, scaleCorrection.toString());\n    } else {\n      localStorage.removeItem(scaleCorrectionKey);\n    }\n  }, [scaleCorrection]);\n\n  const [user, signIn, signOut] = useAuth();\n  const [histories, addHistory] = useHistories(\n    typeof user === \"string\" ? user : undefined\n  );\n  const [currentRoute, jumpTo] = useState<Route>(Route.Home);\n  useEffect(() => {\n    if (typeof user === \"string\" && currentRoute === Route.Home) {\n      jumpTo(\n        initialScaleCorrection ? Route.TrainingMenu : Route.ScaleCorrectionFirst\n      );\n    }\n  }, [currentRoute, initialScaleCorrection, user]);\n\n  return (\n    <ThemeProvider>\n      <GlobalStyle />\n      <AppContainer\n        css={css`\n          width: 100%;\n          height: 100%;\n        `}\n        currentMode={\n          currentRoute === Route.Training ||\n          currentRoute === Route.TrainingMenu ||\n          currentRoute === Route.TrainingLevel\n            ? Mode.Training\n            : currentRoute === Route.Report\n            ? Mode.Report\n            : currentRoute === Route.Setting ||\n              currentRoute === Route.ScaleCorrection\n            ? Mode.Setting\n            : undefined\n        }\n        navHidden={\n          currentRoute === Route.Home ||\n          currentRoute === Route.Training ||\n          currentRoute === Route.ScaleCorrectionFirst\n        }\n        onModeChange={mode => {\n          if (mode === Mode.Training) {\n            jumpTo(Route.TrainingMenu);\n          }\n          if (mode === Mode.Report) {\n            jumpTo(Route.Report);\n          }\n          if (mode === Mode.Setting) {\n            jumpTo(Route.Setting);\n          }\n        }}\n        headerClosable={currentRoute === Route.Training}\n        onHeaderClose={() => {\n          jumpTo(Route.TrainingMenu);\n          setTraining(undefined);\n        }}\n        headerBackButtonVisible={\n          currentRoute === Route.TrainingLevel ||\n          currentRoute === Route.ScaleCorrection\n        }\n        onHeaderBackButtonClick={() => {\n          if (currentRoute === Route.TrainingLevel) {\n            jumpTo(Route.TrainingMenu);\n          }\n          if (currentRoute === Route.ScaleCorrection) {\n            jumpTo(Route.Setting);\n          }\n        }}\n      >\n        {currentRoute === Route.Home && user === AuthState.SignedOut && (\n          <HomePage\n            onSignIn={() => {\n              signIn();\n            }}\n          />\n        )}\n        {currentRoute === Route.TrainingMenu && (\n          <TrainingMenuPage\n            onSelect={type => {\n              setTraining([type, undefined]);\n              jumpTo(Route.TrainingLevel);\n            }}\n          />\n        )}\n        {currentRoute === Route.TrainingLevel && (\n          <TrainingLevelMenuPage\n            onSelect={level => {\n              setTraining(s => (s ? [s[0], level] : undefined));\n              jumpTo(Route.Training);\n            }}\n          />\n        )}\n        {currentRoute === Route.Training && training && training[1] && (\n          <TrainingPage\n            type={training[0]}\n            level={training[1]}\n            scaleCorrection={scaleCorrection}\n            onResult={h => {\n              addHistory(h);\n            }}\n            onFinish={() => {\n              jumpTo(Route.TrainingMenu);\n            }}\n          />\n        )}\n        {currentRoute === Route.Report && <ReportPage histories={histories} />}\n        {currentRoute === Route.Setting && (\n          <SettingPage\n            onSelect={async mode => {\n              if (mode === Item.ScaleCorrection) {\n                jumpTo(Route.ScaleCorrection);\n              }\n              if (mode === Item.SignOut) {\n                await signOut();\n                jumpTo(Route.Home);\n              }\n            }}\n          />\n        )}\n        {(currentRoute === Route.ScaleCorrection ||\n          currentRoute === Route.ScaleCorrectionFirst) && (\n          <ScaleCorrectionPage\n            scaleCorrection={scaleCorrection}\n            onScaleCorrectionEnter={sc => {\n              setScaleCorrection(sc);\n              if (currentRoute === Route.ScaleCorrectionFirst) {\n                jumpTo(Route.TrainingMenu);\n              } else {\n                jumpTo(Route.Setting);\n              }\n            }}\n          />\n        )}\n      </AppContainer>\n    </ThemeProvider>\n  );\n};\n\nexport default hot(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}